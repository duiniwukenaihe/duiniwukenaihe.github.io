I"¾<ul id="markdown-toc">
  <li><a href="#æè¿°èƒŒæ™¯" id="markdown-toc-æè¿°èƒŒæ™¯">æè¿°èƒŒæ™¯ï¼š</a></li>
  <li><a href="#1ç½‘æ¡¥é…ç½®é—®é¢˜sd_journal_get_cursor-failed-cannot-assign-requested-address--v8240-34el7" id="markdown-toc-1ç½‘æ¡¥é…ç½®é—®é¢˜sd_journal_get_cursor-failed-cannot-assign-requested-address--v8240-34el7">1.ç½‘æ¡¥é…ç½®é—®é¢˜ï¼šsd_journal_get_cursor() failed: â€˜Cannot assign requested addressâ€™  [v8.24.0-34.el7]</a></li>
</ul>

<h1 id="æè¿°èƒŒæ™¯">æè¿°èƒŒæ™¯ï¼š</h1>
<p>æ³¨ï¼šè®°å½•å„ç§å¸¸è§é—®é¢˜</p>

<p>é›†ç¾¤é…ç½®ï¼š
åˆå§‹é›†ç¾¤ç¯å¢ƒkubeadm 1.16.1</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">ip</th>
      <th style="text-align: center">è‡ªå®šä¹‰åŸŸå</th>
      <th style="text-align: center">ä¸»æœºå</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">192.168.3.8</td>
      <td style="text-align: center">master.k8s.io</td>
      <td style="text-align: center">k8s-vip</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.10</td>
      <td style="text-align: center">master01.k8s.io</td>
      <td style="text-align: center">k8s-master-01</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.5</td>
      <td style="text-align: center">master02.k8s.io</td>
      <td style="text-align: center">k8s-master-02</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.12</td>
      <td style="text-align: center">master03.k8s.io</td>
      <td style="text-align: center">k8s-master-03</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.6</td>
      <td style="text-align: center">node01.k8s.io</td>
      <td style="text-align: center">k8s-node-01</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.2</td>
      <td style="text-align: center">node02.k8s.io</td>
      <td style="text-align: center">k8s-node-02</td>
    </tr>
    <tr>
      <td style="text-align: center">192.168.3.4</td>
      <td style="text-align: center">node03.k8s.io</td>
      <td style="text-align: center">k8s-node-03</td>
    </tr>
  </tbody>
</table>

<h1 id="1ç½‘æ¡¥é…ç½®é—®é¢˜sd_journal_get_cursor-failed-cannot-assign-requested-address--v8240-34el7">1.ç½‘æ¡¥é…ç½®é—®é¢˜ï¼šsd_journal_get_cursor() failed: â€˜Cannot assign requested addressâ€™  [v8.24.0-34.el7]</h1>
<p><img src="/assets/images/qustion/bridge.png" alt="bridge.png" /></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubernetes é›†ç¾¤ä¸­æœ‰å†…éƒ¨åŒä¸€namespaceä¸‹é€šä¿¡ç”¨çš„ç›´æ¥è¿serviceçš„æ–¹å¼æœ‰ä¸€serviceä¸‹podè®¿é—®å¦å¤–ä¸€serviceæ— æ³•è®¿é—®ã€‚ä½†æ˜¯è®¿é—®å…¶ä»–åŒä¸€å‘½åç©ºé—´ä¸‹éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œkubectl get pod <span class="nt">-o</span> wide  çœ‹åˆ°æ­¤podä½äºnode-07.node-07èŠ‚ç‚¹æ‰§è¡Œjournalctl  çœ‹æ—¥å¿—ä¸­æœ‰sd_journal_get_cursor<span class="o">()</span> failed: <span class="s1">'Cannot assign requested address'</span>  <span class="o">[</span>v8.24.0-34.el7]ï¼Œç™¾åº¦äº†ä¸‹https://blog.csdn.net/wkb342814892/article/details/79543984åº”è¯¥æ˜¯æ²¡æœ‰å¼€å¯ç½‘æ¡¥è½¬å‘ï¼š
modprobe br_netfilter
<span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> &gt;  /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
</span><span class="no">EOF
</span>sysctl <span class="nt">-p</span> /etc/sysctl.d/k8s.conf
<span class="nb">ls</span> /proc/sys/net/bridge
</code></pre></div></div>
<p>OKé—®é¢˜è§£å†³</p>
:ET